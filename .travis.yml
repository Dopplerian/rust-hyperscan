language: rust
rust:
  - stable
  - beta
  - nightly
matrix:
  allow_failures:
    - rust: nightly

sudo: false
os:
  - linux
  - osx

compiler:
  - gcc
  - clang

addons:
  apt:
    sources:
      - george-edison55-precise-backports # cmake 3.2.3 / doxygen 1.8.3
      - ubuntu-toolchain-r-test # gcc-4.8 / g++-4.8
    packages:
      - cmake
      - cmake-data
      - g++
      - gcc-4.8
      - g++-4.8
      - ragel

cache:
  directories:
    - $HOME/boost
    - $HOME/hyperscan

env:
  - BOOST_ROOT=$HOME/boost
  - HYPERSCAN_ROOT=$HOME/hyperscan

before_install:
  - .travis/setup-travis.sh

before_script:
  - .travis/build-hyperscan.sh